<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ContentBlast - Pricing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .gradient-text { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="/" class="text-2xl font-bold gradient-text">âš¡ ContentBlast</a>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="/app" class="text-gray-600 hover:text-gray-900">Dashboard</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Pricing Section -->
    <section class="py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h1 class="text-4xl font-bold mb-4">Simple, Transparent Pricing</h1>
                <p class="text-xl text-gray-600">Start free, upgrade when you need more</p>
            </div>

            <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <!-- Starter -->
                <div class="bg-white border rounded-2xl p-8 shadow-sm hover:shadow-lg transition">
                    <h3 class="text-xl font-semibold mb-2">Starter</h3>
                    <div class="text-4xl font-bold mb-4">$19<span class="text-lg text-gray-500">/mo</span></div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> 50 repurposes/month</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> All platforms</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Email support</li>
                    </ul>
                    <button onclick="checkout('starter')" class="w-full py-3 border-2 border-purple-600 text-purple-600 rounded-lg hover:bg-purple-50 font-semibold transition">
                        Get Started
                    </button>
                </div>

                <!-- Pro (Popular) -->
                <div class="bg-white border-2 border-purple-600 rounded-2xl p-8 shadow-lg relative">
                    <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-purple-600 text-white px-4 py-1 rounded-full text-sm font-medium">Most Popular</div>
                    <h3 class="text-xl font-semibold mb-2">Pro</h3>
                    <div class="text-4xl font-bold mb-4">$49<span class="text-lg text-gray-500">/mo</span></div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> 200 repurposes/month</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> All platforms</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Priority support</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> API access</li>
                    </ul>
                    <button onclick="checkout('pro')" class="w-full py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold transition">
                        Get Started
                    </button>
                </div>

                <!-- Unlimited -->
                <div class="bg-white border rounded-2xl p-8 shadow-sm hover:shadow-lg transition">
                    <h3 class="text-xl font-semibold mb-2">Unlimited</h3>
                    <div class="text-4xl font-bold mb-4">$99<span class="text-lg text-gray-500">/mo</span></div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Unlimited repurposes</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> All platforms</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> 24/7 support</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Custom integrations</li>
                    </ul>
                    <button onclick="checkout('unlimited')" class="w-full py-3 border-2 border-purple-600 text-purple-600 rounded-lg hover:bg-purple-50 font-semibold transition">
                        Get Started
                    </button>
                </div>
            </div>

            <!-- FAQ -->
            <div class="mt-16 max-w-2xl mx-auto">
                <h2 class="text-2xl font-bold text-center mb-8">Frequently Asked Questions</h2>
                <div class="space-y-4">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="font-semibold mb-2">Can I cancel anytime?</h3>
                        <p class="text-gray-600">Yes! No contracts, no commitments. Cancel anytime from your dashboard.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="font-semibold mb-2">What payment methods do you accept?</h3>
                        <p class="text-gray-600">We accept all major credit cards via Stripe (Visa, Mastercard, Amex).</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="font-semibold mb-2">Is there a free trial?</h3>
                        <p class="text-gray-600">Yes! You get 5 free repurposes to try the product before subscribing.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Email Modal -->
    <div id="emailModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
            <h3 class="text-xl font-bold mb-4">Enter your email</h3>
            <p class="text-gray-600 mb-4">We'll send your receipt and login details here.</p>
            <input type="email" id="customerEmail" placeholder="your@email.com" class="w-full border rounded-lg px-4 py-3 mb-4 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
            <div class="flex space-x-4">
                <button onclick="closeModal()" class="flex-1 py-3 border rounded-lg hover:bg-gray-50">Cancel</button>
                <button onclick="processCheckout()" class="flex-1 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold">
                    Continue to Payment
                </button>
            </div>
        </div>
    </div>

    <script>
        let selectedPlan = null;

        function checkout(planId) {
            selectedPlan = planId;
            document.getElementById('emailModal').classList.remove('hidden');
            document.getElementById('emailModal').classList.add('flex');
        }

        function closeModal() {
            document.getElementById('emailModal').classList.add('hidden');
            document.getElementById('emailModal').classList.remove('flex');
        }

        async function processCheckout() {
            const email = document.getElementById('customerEmail').value;
            if (!email || !email.includes('@')) {
                alert('Please enter a valid email');
                return;
            }

            try {
                const formData = new FormData();
                formData.append('plan_id', selectedPlan);
                formData.append('email', email);

                const response = await fetch('/api/checkout', {
                    method: 'POST',
                    body: formData
                });

                const data = await response.json();

                if (data.checkout_url) {
                    window.location.href = data.checkout_url;
                } else {
                    alert('Error: ' + (data.detail || 'Could not create checkout'));
                }
            } catch (error) {
                alert('Error: ' + error.message);
            }
        }
    </script>
</body>
</html>
