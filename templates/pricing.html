<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ContentBlast - Pricing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        .gradient-text { background: linear-gradient(135deg, #a78bfa 0%, #818cf8 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .card-dark { background: rgba(30, 30, 40, 0.8); backdrop-filter: blur(10px); }
        .glow { box-shadow: 0 0 40px rgba(139, 92, 246, 0.3); }
    </style>
</head>
<body class="bg-gray-950 text-gray-100 min-h-screen">
    <nav class="bg-gray-900/80 backdrop-blur-md shadow-lg border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="/" class="text-2xl font-bold gradient-text">âš¡ ContentBlast</a>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="/app" class="text-gray-300 hover:text-white transition">Dashboard</a>
                </div>
            </div>
        </div>
    </nav>

    <section class="py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h1 class="text-4xl font-bold mb-4 text-white">Simple, Transparent Pricing</h1>
                <p class="text-xl text-gray-400">Start free, upgrade when you need more</p>
            </div>

            <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <div class="card-dark border border-gray-800 rounded-2xl p-8 hover:border-purple-500 transition">
                    <h3 class="text-xl font-semibold mb-2 text-white">Starter</h3>
                    <div class="text-4xl font-bold mb-4 text-white">$19<span class="text-lg text-gray-500">/mo</span></div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center text-gray-300"><i class="fas fa-check text-green-400 mr-2"></i> 50 repurposes/month</li>
                        <li class="flex items-center text-gray-300"><i class="fas fa-check text-green-400 mr-2"></i> All platforms</li>
                        <li class="flex items-center text-gray-300"><i class="fas fa-check text-green-400 mr-2"></i> Email support</li>
                    </ul>
                    <button onclick="checkout('starter')" class="w-full py-3 border-2 border-purple-500 text-purple-400 rounded-lg hover:bg-purple-500/10 transition font-semibold">Get Started</button>
                </div>

                <div class="card-dark border-2 border-purple-500 rounded-2xl p-8 relative glow">
                    <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-purple-600 text-white px-4 py-1 rounded-full text-sm font-medium">Most Popular</div>
                    <h3 class="text-xl font-semibold mb-2 text-white">Pro</h3>
                    <div class="text-4xl font-bold mb-4 text-white">$49<span class="text-lg text-gray-500">/mo</span></div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center text-gray-300"><i class="fas fa-check text-green-400 mr-2"></i> 200 repurposes/month</li>
                        <li class="flex items-center text-gray-300"><i class="fas fa-check text-green-400 mr-2"></i> All platforms</li>
                        <li class="flex items-center text-gray-300"><i class="fas fa-check text-green-400 mr-2"></i> Priority support</li>
                        <li class="flex items-center text-gray-300"><i class="fas fa-check text-green-400 mr-2"></i> API access</li>
                    </ul>
                    <button onclick="checkout('pro')" class="w-full py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-500 transition font-semibold">Get Started</button>
                </div>

                <div class="card-dark border border-gray-800 rounded-2xl p-8 hover:border-purple-500 transition">
                    <h3 class="text-xl font-semibold mb-2 text-white">Unlimited</h3>
                    <div class="text-4xl font-bold mb-4 text-white">$99<span class="text-lg text-gray-500">/mo</span></div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center text-gray-300"><i class="fas fa-check text-green-400 mr-2"></i> Unlimited repurposes</li>
                        <li class="flex items-center text-gray-300"><i class="fas fa-check text-green-400 mr-2"></i> All platforms</li>
                        <li class="flex items-center text-gray-300"><i class="fas fa-check text-green-400 mr-2"></i> 24/7 support</li>
                        <li class="flex items-center text-gray-300"><i class="fas fa-check text-green-400 mr-2"></i> Custom integrations</li>
                    </ul>
                    <button onclick="checkout('unlimited')" class="w-full py-3 border-2 border-purple-500 text-purple-400 rounded-lg hover:bg-purple-500/10 transition font-semibold">Get Started</button>
                </div>
            </div>

            <div class="mt-16 max-w-2xl mx-auto">
                <h2 class="text-2xl font-bold text-center mb-8 text-white">FAQ</h2>
                <div class="space-y-4">
                    <div class="card-dark p-6 rounded-lg border border-gray-800">
                        <h3 class="font-semibold mb-2 text-white">Can I cancel anytime?</h3>
                        <p class="text-gray-400">Yes! No contracts, no commitments. Cancel anytime.</p>
                    </div>
                    <div class="card-dark p-6 rounded-lg border border-gray-800">
                        <h3 class="font-semibold mb-2 text-white">What payment methods?</h3>
                        <p class="text-gray-400">All major credit cards via Stripe.</p>
                    </div>
                    <div class="card-dark p-6 rounded-lg border border-gray-800">
                        <h3 class="font-semibold mb-2 text-white">Is there a free trial?</h3>
                        <p class="text-gray-400">Yes! 5 free repurposes, no credit card required.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="emailModal" class="fixed inset-0 bg-black/70 backdrop-blur-sm hidden items-center justify-center z-50">
        <div class="card-dark rounded-xl p-8 max-w-md w-full mx-4 border border-gray-700">
            <h3 class="text-xl font-bold mb-4 text-white">Enter your email</h3>
            <input type="email" id="customerEmail" placeholder="your@email.com" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 mb-4 text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none">
            <div class="flex space-x-4">
                <button onclick="closeModal()" class="flex-1 py-3 border border-gray-600 text-gray-300 rounded-lg hover:bg-gray-800 transition">Cancel</button>
                <button onclick="processCheckout()" class="flex-1 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-500 transition font-semibold">Continue</button>
            </div>
        </div>
    </div>

    <script>
        let selectedPlan = null;
        function checkout(planId) {
            selectedPlan = planId;
            document.getElementById('emailModal').classList.remove('hidden');
            document.getElementById('emailModal').classList.add('flex');
        }
        function closeModal() {
            document.getElementById('emailModal').classList.add('hidden');
            document.getElementById('emailModal').classList.remove('flex');
        }
        async function processCheckout() {
            const email = document.getElementById('customerEmail').value;
            if (!email || !email.includes('@')) { alert('Please enter a valid email'); return; }
            try {
                const formData = new FormData();
                formData.append('plan_id', selectedPlan);
                formData.append('email', email);
                const response = await fetch('/api/checkout', { method: 'POST', body: formData });
                const data = await response.json();
                if (data.checkout_url) { window.location.href = data.checkout_url; }
                else { alert('Error: ' + (data.detail || 'Could not create checkout')); }
            } catch (error) { alert('Error: ' + error.message); }
        }
    </script>
</body>
</html>
